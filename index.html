<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>WSlot by danartinho</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <style>
      .date-picker {
        width: 300px;
        height: 100px;
        margin: 0 auto;
        padding: 0 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      .date-picker-display {
        width: 100%;
        height: 30px;
        text-align: center;
      }
      .month {
        height: 100%;
        width: 50%;
        float: left;
      }
      .day {
        height: 100%;
        width: 20%;
        float: left;
      }
      .year {
        height: 100%;
        width: 30%;
        float: left;
      }
    </style>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">WSlot</h1>
      <h2 class="project-tagline">jQuery plugin to create a slot rolling list</h2>
      <a id="view-github" href="https://github.com/danartinho/WSlot" class="btn">View on GitHub</a>
      <a id="dl-zip" href="https://github.com/danartinho/WSlot/zipball/master" class="btn">Download .zip</a>
      <a id="dl-targz" href="https://github.com/danartinho/WSlot/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="wslot" class="anchor" href="#wslot" aria-hidden="true"><span class="octicon octicon-link"></span></a>WSlot</h1>

<p>jQuery plugin to create a slot rolling list. Touch screen supported.</p>

<h1>How to use</h1>

<p>Create an element (div). The element must have a fixed width & height and CSS position is relative. </p>
  <div>
      <pre><code>
        &lt;div class="container" style="width:200px;height:200px;margin:0 auto;"&gt;&lt;/div&gt;
      </code></pre>
    </div>

<p>Initialize WSlot on the element</p>

    <div>
      <pre><code>
        $('.container').WSlot({
          items:['one','two','three','four','five','six','seven','eight','nine','ten'],
          center : 'first',
          distance : 50,
          displayed_length : 2,
          angle : 30,
          rotation : 0,
          item_height : 20,
        }).on('WSlot.change',function(e,index){
          console.log(index);
        });

        $('#get').on('click',function(){
          alert($('.container').WSlot('get'));
        });
        $('#getText').on('click',function(){
          alert($('.container').WSlot('getText'));
        });
        $('#random').on('click',function(){
          var rand = Math.floor(Math.random() * 9));
          $('#slot').WSlot('rollTo',rand);
        });
      </code></pre>
    </div>
    
    <p>Result</p>
    <div class="container" style="width:200px;height:200px;margin:0 auto;"></div>
    <div style="margin:0 auto;text-align:center;">
      <button id="get">get index</button>
      <button id="getText">get text</button>
      <button id="random">random</button>
    </div>

<h1>Option defaults</h1>

  <pre>
    <code>
        $('.someelement').WSlot({
          items : [],
          center : 'first',
          distance : 'auto',
          displayed_length : 2,
          angle : 30,
          rotation : 0,
          item_height : 20,
        });
    </code>
  </pre>

<h1>Examples</h1>
<p>iOS style date picker</p>

    <div class="date-picker-display"></div>
    <div class="date-picker">
      <div class="month">
      </div>
      <div class="day">
      </div>
      <div class="year">
      </div>
    </div>
      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/danartinho/WSlot">WSlot</a> is maintained by <a href="https://github.com/danartinho">danartinho</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="jQuery.WSlot.min.js"></script>

    <script type="text/javascript">
      $(document).ready(function(){
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!
        var yyyy = today.getFullYear();
        if(dd<10) {
            dd='0'+dd
        }
        if(mm<10) {
            mm='0'+mm
        }
        var todaystring = mm+'/'+dd+'/'+yyyy;
        $('.date-picker-display').html(todaystring);

        $('.month').WSlot({
          items:['january','february','march','april','may','june','july','august','september','oktober','november','december'],
          center:today.getMonth(),
          angle:25,
          distance:'auto',
          displayed_length:3,
          rotation:-5
        }).on('WSlot.change',function(e,index){
          // console.log(index);
          initDate(index,parseInt($('.year').WSlot('getText')),$('.day').WSlot('get'));
          updateText();
        });
        
        initDate(today.getMonth(),today.getFullYear(),today.getDate()-1);

        var years = [];
        for (var i = 1972; i <= 2015; i++) {
          years.push(i);
        };
        $('.year').WSlot({
          items:years,
          center:'last',
          angle:25,
          distance:'auto',
          displayed_length:3,
          rotation:5
        }).on('WSlot.change',function(e,index){
          // console.log(index);
          initDate(parseInt($('.month').WSlot('get')),parseInt($('.year').WSlot('getText')),$('.day').WSlot('get'));
          updateText();
        });

        function updateText() {
          var dd = ('0'+($('.day').WSlot('get')+1)).slice(-2);
          var mm = ('0'+($('.month').WSlot('get')+1)).slice(-2);
          var yyyy = $('.year').WSlot('getText');
          var todaystring = mm+'/'+dd+'/'+yyyy;
          $('.date-picker-display').html(todaystring);
        }

        function initDate(month,year,selected) {
          var totalDay = daysInMonth(month,year);
          var days = [];
          for (var i = 1; i <= totalDay; i++) {
            days.push(i);
          };
          $('.day').empty().WSlot({
            items:days,
            center:selected,
            angle:25,
            distance:'auto',
            displayed_length:3,
            rotation:0
          }).off('WSlot.change').on('WSlot.change',function(e,index){
            // console.log(index);
            updateText();
          });
        }

        function daysInMonth(month,year) {
          return new Date(year, month+1, 0).getDate();
        }


        $('.container').WSlot({
          items:['one','two','three','four','five','six','seven','eight','nine','ten'],
          center : 'first',
          distance : 50,
          displayed_length : 2,
          angle : 30,
          rotation : 0,
          item_height : 20,
        }).on('WSlot.change',function(e,index){
          console.log(index);
        });

        $('#get').on('click',function(){
          alert($('.container').WSlot('get'));
        });
        $('#getText').on('click',function(){
          alert($('.container').WSlot('getText'));
        });
        $('#random').on('click',function(){
          var rand = Math.floor(Math.random() * 9);
          $('.container').WSlot('rollTo',rand);
        });

        $('#view-github').off('click').on('click',function(){
          ga('send', {
            hitType: 'event',
            eventCategory: 'Button',
            eventAction: 'Click',
            eventLabel: 'View Github'
          });
        });
        $('#dl-zip').off('click').on('click',function(){
          ga('send', {
            hitType: 'event',
            eventCategory: 'Button',
            eventAction: 'Click',
            eventLabel: 'Download .zip'
          });
        });
        $('#dl-targz').off('click').on('click',function(){
          ga('send', {
            hitType: 'event',
            eventCategory: 'Button',
            eventAction: 'Click',
            eventLabel: 'Download .tar.gz'
          });
        });
      });

      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44209272-6', 'auto');
      ga('send', 'pageview');
     
    </script>

  </body>
</html>
